<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Hoja de Vida</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container my-5">

    <!-- Encabezado -->
    <div class="profile-header text-center mb-5 shadow">
        {% if perfil.avatar %}
            <img src="{{ perfil.avatar.url }}" class="rounded-circle mb-3" width="120" height="120" alt="Avatar">
        {% endif %}
        <h1>{{ perfil.datos_personales.nombres|default:"---------------" }} {{ perfil.datos_personales.apellidos|default:"---------------" }}</h1>
        <p class="mb-1">{{ perfil.ciudad }}, {{ perfil.pais }}</p>
        <p class="lead">{{ perfil.biografia }}</p>
    </div>

    <!-- Contenedor con men√∫ lateral y contenido -->
    <div class="row">
        <div class="col-md-3">
            <div class="list-group">
                <button class="list-group-item list-group-item-action" onclick="mostrar('datos')">Datos Personales</button>
                <button class="list-group-item list-group-item-action" onclick="mostrar('experiencia')">Experiencia Laboral</button>
                <button class="list-group-item list-group-item-action" onclick="mostrar('reconocimientos')">Reconocimientos</button>
                <button class="list-group-item list-group-item-action" onclick="mostrar('cursos')">Cursos Realizados</button>
                <button class="list-group-item list-group-item-action" onclick="mostrar('academicos')">Productos Acad√©micos</button>
                <button class="list-group-item list-group-item-action" onclick="mostrar('laborales')">Productos Laborales</button>
                <button class="list-group-item list-group-item-action" onclick="mostrar('garage')">Venta Garage</button>
                <button class="list-group-item list-group-item-action bg-dark text-white" onclick="descargarPDF()">Descargar PDF</button>
            </div>
        </div>

        <div class="col-md-9">
            <!-- Datos Personales -->
            <div id="datos" class="seccion" style="display:block;">
                <div class="mb-4">
                    <h2 class="section-title">üë§ Datos Personales</h2>
                    {% if perfil.datos_personales %}
                        <ul class="list-group">
                            <li class="list-group-item"><strong>ID Perfil:</strong> {{ perfil.id }}</li>
                            <li class="list-group-item"><strong>Descripci√≥n del perfil:</strong> {{ perfil.datos_personales.descripcion_perfil }}</li>
                            <li class="list-group-item"><strong>Perfil activo:</strong> {{ perfil.datos_personales.perfil_activo|yesno:"S√≠,No" }}</li>
                            <li class="list-group-item"><strong>Apellidos:</strong> {{ perfil.datos_personales.apellidos }}</li>
                            <li class="list-group-item"><strong>Nombres:</strong> {{ perfil.datos_personales.nombres }}</li>
                            <li class="list-group-item"><strong>Nacionalidad:</strong> {{ perfil.datos_personales.nacionalidad }}</li>
                            <li class="list-group-item"><strong>Lugar de nacimiento:</strong> {{ perfil.datos_personales.lugar_nacimiento }}</li>
                            <li class="list-group-item"><strong>Fecha de nacimiento:</strong> {{ perfil.datos_personales.fecha_nacimiento }}</li>
                            <li class="list-group-item"><strong>N√∫mero de c√©dula:</strong> {{ perfil.datos_personales.numero_cedula }}</li>
                            <li class="list-group-item"><strong>Sexo:</strong> {{ perfil.datos_personales.sexo }}</li>
                            <li class="list-group-item"><strong>Estado civil:</strong> {{ perfil.datos_personales.estado_civil }}</li>
                            <li class="list-group-item"><strong>Licencia de conducir:</strong> {{ perfil.datos_personales.licencia_conducir|yesno:"S√≠,No" }}</li>
                            <li class="list-group-item"><strong>Tel√©fono convencional:</strong> {{ perfil.datos_personales.telefono_convencional }}</li>
                            <li class="list-group-item"><strong>Tel√©fono fijo:</strong> {{ perfil.datos_personales.telefono_fijo }}</li>
                            <li class="list-group-item"><strong>Direcci√≥n de trabajo:</strong> {{ perfil.datos_personales.direccion_trabajo }}</li>
                            <li class="list-group-item"><strong>Direcci√≥n domiciliaria:</strong> {{ perfil.datos_personales.direccion_domiciliaria }}</li>
                            <li class="list-group-item"><strong>Sitio web:</strong> {{ perfil.datos_personales.sitio_web }}</li>
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay datos personales registrados.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Experiencia Laboral -->
            <div id="experiencia" class="seccion" style="display:none;">
                <div class="mb-4">
                    <h2 class="section-title">üíº Experiencia Laboral</h2>
                    {% if perfil.experiencia_laboral.all %}
                        <ul class="list-group">
                            {% for exp in perfil.experiencia_laboral.all %}
                                <li class="list-group-item">
                                    <strong>ID Experiencia Laboral:</strong> {{ exp.id_experiencia }}<br>
                                    <strong>ID Perfil activo:</strong> {{ exp.perfil.id }}<br>
                                    <strong>Cargo desempe√±ado:</strong> {{ exp.cargo }}<br>
                                    <strong>Nombre de la empresa:</strong> {{ exp.empresa }}<br>
                                    <strong>Lugar de la empresa:</strong> {{ exp.lugar_empresa }}<br>
                                    <strong>Email de la empresa:</strong> {{ exp.email_empresa }}<br>
                                    <strong>Sitio web de la empresa:</strong> {{ exp.sitio_web_empresa }}<br>
                                    <strong>Nombre del contacto empresarial:</strong> {{ exp.contacto_empresa }}<br>
                                    <strong>Tel√©fono del contacto empresarial:</strong> {{ exp.telefono_contacto_empresa }}<br>
                                    <strong>Fecha inicio gesti√≥n:</strong> {{ exp.fecha_inicio }}<br>
                                    <strong>Fecha fin gesti√≥n:</strong> {{ exp.fecha_fin }}<br>
                                    <strong>Descripci√≥n de funciones:</strong> {{ exp.descripcion_funciones }}<br>
                                    <strong>Activo:</strong> {{ exp.activo|yesno:"S√≠,No" }}<br>
                                    <strong>Certificado:</strong> <a href="{{ exp.certificado }}" target="_blank">{{ exp.certificado }}</a>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay experiencias laborales registradas.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Reconocimientos -->
            <div id="reconocimientos" class="seccion" style="display:none;">
                <div class="mb-4">
                    <h2 class="section-title">üèÖ Reconocimientos</h2>
                    {% if perfil.reconocimientos.all %}
                        <ul class="list-group">
                            {% for rec in perfil.reconocimientos.all %}
                                <li class="list-group-item">
                                    <strong>ID Reconocimiento:</strong> {{ rec.id_reconocimiento }}<br>
                                    <strong>ID Perfil activo:</strong> {{ rec.perfil.id }}<br>
                                    <strong>Tipo:</strong> {{ rec.tipo }}<br>
                                    <strong>Fecha:</strong> {{ rec.fecha }}<br>
                                    <strong>Descripci√≥n:</strong> {{ rec.descripcion }}<br>
                                    <strong>Entidad:</strong> {{ rec.entidad }}<br>
                                    <strong>Contacto:</strong> {{ rec.contacto }}<br>
                                    <strong>Tel√©fono contacto:</strong> {{ rec.telefono_contacto }}<br>
                                    <strong>Activo:</strong> {{ rec.activo|yesno:"S√≠,No" }}<br>
                                    <strong>Certificado:</strong> <a href="{{ rec.certificado }}" target="_blank">{{ rec.certificado }}</a>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay reconocimientos registrados.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Cursos Realizados -->
            <div id="cursos" class="seccion" style="display:none;">
                <div class="mb-4">
                    <h2 class="section-title">üìö Cursos Realizados</h2>
                    {% if perfil.cursos_realizados.all %}
                        <ul class="list-group">
                            {% for curso in perfil.cursos_realizados.all %}
                                <li class="list-group-item">
                                    <strong>ID Curso:</strong> {{ curso.id_curso }}<br>
                                    <strong>ID Perfil activo:</strong> {{ curso.perfil.id }}<br>
                                    <strong>Nombre del curso:</strong> {{ curso.nombre_curso }}<br>
                                    <strong>Fecha inicio:</strong> {{ curso.fecha_inicio }}<br>
                                    <strong>Fecha fin:</strong> {{ curso.fecha_fin }}<br>
                                    <strong>Total horas:</strong> {{ curso.total_horas }}<br>
                                    <strong>Descripci√≥n:</strong> {{ curso.descripcion }}<br>
                                    <strong>Entidad:</strong> {{ curso.entidad }}<br>
                                    <strong>Contacto:</strong> {{ curso.contacto }}<br>
                                    <strong>Tel√©fono contacto:</strong> {{ curso.telefono_contacto }}<br>
                                    <strong>Email empresa:</strong> {{ curso.email_empresa }}<br>
                                    <strong>Activo:</strong> {{ curso.activo|yesno:"S√≠,No" }}<br>
                                    <strong>Certificado:</strong> <a href="{{ curso.certificado }}" target="_blank">{{ curso.certificado }}</a>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay cursos registrados.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Productos Acad√©micos -->
            <div id="academicos" class="seccion" style="display:none;">
                <div class="mb-4">
                    <h2 class="section-title">üìñ Productos Acad√©micos</h2>
                    {% if perfil.productos_academicos.all %}
                        <ul class="list-group">
                            {% for prod in perfil.productos_academicos.all %}
                                <li class="list-group-item">
                                    <strong>ID Producto Acad√©mico:</strong> {{ prod.id_producto }}<br>
                                    <strong>ID Perfil activo:</strong> {{ prod.perfil.id }}<br>
                                    <strong>Nombre del recurso:</strong> {{ prod.nombre_recurso }}<br>
                                    <strong>Clasificador:</strong> {{ prod.clasificador }}<br>
                                    <strong>Descripci√≥n:</strong> {{ prod.descripcion }}<br>
                                    <strong>Activo:</strong> {{ prod.activo|yesno:"S√≠,No" }}
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay productos acad√©micos registrados.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Productos Laborales -->
            <div id="laborales" class="seccion" style="display:none;">
                <div class="mb-4">
                    <h2 class="section-title">üè¢ Productos Laborales</h2>
                    {% if perfil.productos_laborales.all %}
                        <ul class="list-group">
                            {% for prodlab in perfil.productos_laborales.all %}
                                <li class="list-group-item">
                                    <strong>ID Producto Laboral:</strong> {{ prodlab.id_producto_laboral }}<br>
                                    <strong>ID Perfil activo:</strong> {{ prodlab.perfil.id }}<br>
                                    <strong>Nombre del producto:</strong> {{ prodlab.nombre_producto }}<br>
                                    <strong>Fecha del producto:</strong> {{ prodlab.fecha_producto }}<br>
                                    <strong>Descripci√≥n:</strong> {{ prodlab.descripcion }}<br>
                                    <strong>Activo:</strong> {{ prodlab.activo|yesno:"S√≠,No" }}
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay productos laborales registrados.</p>
                    {% endif %}
                </div>
            </div>

            <!-- Venta Garage -->
            <div id="garage" class="seccion" style="display:none;">
                <div class="mb-4">
                    <h2 class="section-title">üõí Venta Garage</h2>
                    {% if perfil.venta_garage.all %}
                        <ul class="list-group">
                            {% for venta in perfil.venta_garage.all %}
                                <li class="list-group-item">
                                    <strong>ID Venta Garage:</strong> {{ venta.id_venta_garage }}<br>
                                    <strong>ID Perfil activo:</strong> {{ venta.perfil.id }}<br>
                                    <strong>Nombre del producto:</strong> {{ venta.nombre_producto }}<br>
                                    <strong>Estado del producto:</strong> {{ venta.estado_producto }}<br>
                                    <strong>Descripci√≥n:</strong> {{ venta.descripcion }}<br>
                                    <strong>Valor del bien:</strong> {{ venta.valor_bien }}<br>
                                    <strong>Activo:</strong> {{ venta.activo|yesno:"S√≠,No" }}
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-muted">No hay productos en venta garage registrados.</p>
                    {% endif %}
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    function mostrar(id) {
        document.querySelectorAll('.seccion').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = 'block';
    }
    function descargarPDF() {
        window.location.href = "{% url 'descargar_pdf' %}";
    }
</script>
</body>
</html>